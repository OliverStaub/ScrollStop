<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; connect-src https://oliverstaub.github.io"
    />

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />

    <link rel="stylesheet" href="../Style.css" />
    <script src="../Script.js" defer></script>
  </head>
  <body>
    <!-- iOS Welcome Walkthrough -->
    <div class="platform-ios walkthrough-container" id="walkthrough-container">
      <!-- Welcome Screen (not a numbered step) -->
      <div class="walkthrough-screen active" id="welcome">
        <img src="../Icon.png" width="128" height="128" alt="ScrollStop Icon" />
        <h1>Welcome to ScrollStop</h1>
        <p class="intro">ScrollStop helps you break free from endless scrolling on social media. Let's set it up in just 2 simple steps!</p>
        <button class="primary-button" id="get-started-btn">Get Started</button>
        <div style="margin-top: 2rem">
          <a
            href="https://oliverstaub.github.io/ScrollStop/"
            target="_blank"
            style="color: #2a9d8f; text-decoration: none; font-size: 14px"
            >About ScrollStop & Credits</a
          >
        </div>
      </div>
      
      <!-- Step 1: Enable Safari Extension -->
      <div class="walkthrough-screen" id="step1">
        <div class="step-icon">⚙️</div>
        <h2>Step 1: Enable Safari Extension</h2>
        <p>ScrollStop works as a Safari extension. You need to enable it in your iPhone Settings:</p>
        <ol class="setup-steps">
          <li>Open <strong>Settings</strong> app</li>
          <li>Scroll down and tap <strong>Safari</strong></li>
          <li>Tap <strong>Extensions</strong></li>
          <li>Find <strong>ScrollStop Extension</strong></li>
          <li>Toggle it <strong>ON</strong></li>
          <li>Make sure all websites are allowed</li>
        </ol>
        <div class="settings-button-container">
          <button class="settings-button" id="open-settings-btn">📱 Open Settings App</button>
          <p class="settings-note">Opens Settings app - navigate to Safari → Extensions</p>
        </div>
        <div class="button-row">
          <button class="secondary-button" id="back-to-welcome">Back</button>
          <button class="primary-button" id="go-to-step2">Next</button>
        </div>
      </div>
      
      <!-- Step 2: iOS Shortcuts Setup -->
      <div class="walkthrough-screen" id="step2">
        <div class="step-icon">🔗</div>
        <h2>Step 2: Set Up iOS Shortcuts</h2>
        <p>For ScrollStop to work effectively, redirect social media apps to Safari:</p>
        <div class="shortcuts-info">
          <p><strong>Why this matters:</strong> ScrollStop only works in Safari, not in native apps like Instagram or Twitter.</p>
          <p>Set up iOS Shortcuts so these apps open in Safari instead:</p>
          <ul class="app-list">
            <li>📘 Instagram</li>
            <li>🐦 Twitter/X</li>
            <li>📱 TikTok</li>
            <li>🔴 YouTube</li>
            <li>And more...</li>
          </ul>
        </div>
        <div class="video-section">
          <p><strong>📹 Watch our setup video:</strong></p>
          <a href="https://youtube.com/watch?v=YOUR_VIDEO_ID" target="_blank" class="video-link">
            📺 iOS Shortcuts Setup Tutorial
          </a>
          <p class="video-note">This opens in your default browser</p>
        </div>
        <div class="button-row">
          <button class="secondary-button" id="back-to-step1">Back</button>
          <button class="primary-button" id="go-to-complete">Complete Setup</button>
        </div>
      </div>
      
      <!-- Setup Complete -->
      <div class="walkthrough-screen" id="complete">
        <div class="step-icon">✅</div>
        <h2>Setup Complete!</h2>
        <p>You're all set! ScrollStop will now help prevent doomscrolling when you browse social media in Safari.</p>
        <div class="completion-info">
          <h3>How it works:</h3>
          <ul>
            <li>📏 Monitors your scroll distance</li>
            <li>⚠️ Shows warning when you scroll too much</li>
            <li>🚫 Blocks access for a short time</li>
            <li>🔄 Helps you take healthy breaks</li>
          </ul>
        </div>
        <button class="primary-button" id="restart-walkthrough">Restart Walkthrough</button>
        <div style="margin-top: 2rem">
          <a
            href="https://oliverstaub.github.io/ScrollStop/"
            target="_blank"
            style="color: #2a9d8f; text-decoration: none; font-size: 14px"
            >About ScrollStop & Credits</a
          >
        </div>
      </div>
    </div>
    
    <!-- Original iOS simple version (hidden by default) -->
    <div class="platform-ios simple-version" id="simple-version" style="display: none;">
      <img src="../Icon.png" width="128" height="128" alt="ScrollStop Icon" />
      <h1>ScrollStop</h1>
      <p>You can turn on ScrollStop's Safari extension in Settings.</p>
      <div style="margin-top: 2rem">
        <a
          href="https://oliverstaub.github.io/ScrollStop/"
          target="_blank"
          style="color: #2a9d8f; text-decoration: none; font-size: 14px"
          >About ScrollStop & Credits</a
        >
      </div>
    </div>
    
    <!-- macOS Version -->
    <div class="platform-mac">
      <img src="../Icon.png" width="128" height="128" alt="ScrollStop Icon" />
      <h1>ScrollStop</h1>
      <p class="state-unknown">
        You can turn on ScrollStop's extension in Safari Extensions preferences.
      </p>
      <p class="state-on">
        ScrollStop's extension is currently on. You can turn it off in Safari
        Extensions preferences.
      </p>
      <p class="state-off">
        ScrollStop's extension is currently off. You can turn it on in Safari
        Extensions preferences.
      </p>
      <button class="open-preferences">
        Quit and Open Safari Extensions Preferences…
      </button>

      <div style="margin-top: 3rem">
        <a
          href="https://oliverstaub.github.io/ScrollStop/"
          target="_blank"
          style="color: #2a9d8f; text-decoration: none; font-size: 14px"
          >About ScrollStop & Credits</a
        >
      </div>
    </div>
  </body>
</html>
